{"remainingRequest":"/Users/tathus/Documents/web pro/WEEK11-2-EXERCISE/frontend/node_modules/babel-loader/lib/index.js!/Users/tathus/Documents/web pro/WEEK11-2-EXERCISE/frontend/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/tathus/Documents/web pro/WEEK11-2-EXERCISE/frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/tathus/Documents/web pro/WEEK11-2-EXERCISE/frontend/src/views/Home.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/tathus/Documents/web pro/WEEK11-2-EXERCISE/frontend/src/views/Home.vue","mtime":1649423578921},{"path":"/Users/tathus/Documents/web pro/WEEK11-2-EXERCISE/frontend/node_modules/cache-loader/dist/cjs.js","mtime":1649416185770},{"path":"/Users/tathus/Documents/web pro/WEEK11-2-EXERCISE/frontend/node_modules/babel-loader/lib/index.js","mtime":1649416188319},{"path":"/Users/tathus/Documents/web pro/WEEK11-2-EXERCISE/frontend/node_modules/cache-loader/dist/cjs.js","mtime":1649416185770},{"path":"/Users/tathus/Documents/web pro/WEEK11-2-EXERCISE/frontend/node_modules/vue-loader/lib/index.js","mtime":1649416188001}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnNlYXJjaC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5leGVjLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyLmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IGF4aW9zIGZyb20gImF4aW9zIjsgLy8gQCBpcyBhbiBhbGlhcyB0byAvc3JjCgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIkhvbWUiLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBzZWFyY2g6ICcnLAogICAgICBibG9nczogW10KICAgIH07CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdGhpcy5nZXRCbG9ncygpOwogIH0sCiAgbWV0aG9kczogewogICAgZ2V0QmxvZ3M6IGZ1bmN0aW9uIGdldEJsb2dzKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgYXhpb3MuZ2V0KCJodHRwOi8vbG9jYWxob3N0OjMwMDAiLCB7CiAgICAgICAgcGFyYW1zOiB7CiAgICAgICAgICBzZWFyY2g6IHRoaXMuc2VhcmNoCiAgICAgICAgfQogICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIF90aGlzLmJsb2dzID0gcmVzcG9uc2UuZGF0YTsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikgewogICAgICAgIGNvbnNvbGUubG9nKGVycik7CiAgICAgIH0pOwogICAgfSwKICAgIGltYWdlUGF0aDogZnVuY3Rpb24gaW1hZ2VQYXRoKGZpbGVfcGF0aCkgewogICAgICBpZiAoZmlsZV9wYXRoKSB7CiAgICAgICAgcmV0dXJuICdodHRwOi8vbG9jYWxob3N0OjMwMDAvJyArIGZpbGVfcGF0aDsKICAgICAgfSBlbHNlIHsKICAgICAgICByZXR1cm4gJ2h0dHBzOi8vYnVsbWEuaW8vaW1hZ2VzL3BsYWNlaG9sZGVycy82NDB4MzYwLnBuZyc7CiAgICAgIH0KICAgIH0sCiAgICBzaG9ydENvbnRlbnQ6IGZ1bmN0aW9uIHNob3J0Q29udGVudChjb250ZW50KSB7CiAgICAgIGlmIChjb250ZW50Lmxlbmd0aCA+IDIwMCkgewogICAgICAgIHJldHVybiBjb250ZW50LnN1YnN0cmluZygwLCAxOTcpICsgJy4uLic7CiAgICAgIH0KCiAgICAgIHJldHVybiBjb250ZW50OwogICAgfSwKICAgIGFkZExpa2U6IGZ1bmN0aW9uIGFkZExpa2UoYmxvZ0lkKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgYXhpb3MucHV0KCJodHRwOi8vbG9jYWxob3N0OjMwMDAvYmxvZ3MvYWRkbGlrZS8iLmNvbmNhdChibG9nSWQpKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIHZhciBzZWxlY3RlZEJsb2cgPSBfdGhpczIuYmxvZ3MuZmlsdGVyKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICByZXR1cm4gZS5pZCA9PT0gYmxvZ0lkOwogICAgICAgIH0pWzBdOwoKICAgICAgICBzZWxlY3RlZEJsb2cubGlrZSA9IHJlc3BvbnNlLmRhdGEubGlrZTsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikgewogICAgICAgIGNvbnNvbGUubG9nKGVycik7CiAgICAgIH0pOwogICAgfQogIH0KfTs="},{"version":3,"sources":["Home.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmDA,OAAA,KAAA,MAAA,OAAA,C,CACA;;AACA,eAAA;AACA,EAAA,IAAA,EAAA,MADA;AAEA,EAAA,IAFA,kBAEA;AACA,WAAA;AACA,MAAA,MAAA,EAAA,EADA;AAEA,MAAA,KAAA,EAAA;AAFA,KAAA;AAIA,GAPA;AAQA,EAAA,OARA,qBAQA;AACA,SAAA,QAAA;AACA,GAVA;AAWA,EAAA,OAAA,EAAA;AACA,IAAA,QADA,sBACA;AAAA;;AACA,MAAA,KAAA,CACA,GADA,CACA,uBADA,EACA;AACA,QAAA,MAAA,EAAA;AACA,UAAA,MAAA,EAAA,KAAA;AADA;AADA,OADA,EAMA,IANA,CAMA,UAAA,QAAA,EAAA;AACA,QAAA,KAAA,CAAA,KAAA,GAAA,QAAA,CAAA,IAAA;AACA,OARA,EASA,KATA,CASA,UAAA,GAAA,EAAA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,GAAA;AACA,OAXA;AAYA,KAdA;AAeA,IAAA,SAfA,qBAeA,SAfA,EAeA;AACA,UAAA,SAAA,EAAA;AACA,eAAA,2BAAA,SAAA;AACA,OAFA,MAGA;AACA,eAAA,kDAAA;AACA;AACA,KAtBA;AAuBA,IAAA,YAvBA,wBAuBA,OAvBA,EAuBA;AACA,UAAA,OAAA,CAAA,MAAA,GAAA,GAAA,EAAA;AACA,eAAA,OAAA,CAAA,SAAA,CAAA,CAAA,EAAA,GAAA,IAAA,KAAA;AACA;;AACA,aAAA,OAAA;AACA,KA5BA;AA6BA,IAAA,OA7BA,mBA6BA,MA7BA,EA6BA;AAAA;;AACA,MAAA,KAAA,CACA,GADA,+CACA,MADA,GAEA,IAFA,CAEA,UAAA,QAAA,EAAA;AACA,YAAA,YAAA,GAAA,MAAA,CAAA,KAAA,CAAA,MAAA,CAAA,UAAA,CAAA;AAAA,iBAAA,CAAA,CAAA,EAAA,KAAA,MAAA;AAAA,SAAA,EAAA,CAAA,CAAA;;AACA,QAAA,YAAA,CAAA,IAAA,GAAA,QAAA,CAAA,IAAA,CAAA,IAAA;AACA,OALA,EAMA,KANA,CAMA,UAAA,GAAA,EAAA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,GAAA;AACA,OARA;AASA;AAvCA;AAXA,CAAA","sourcesContent":["<template>\n  <div class=\"container is-widescreen\">\n    <section class=\"hero\">\n      <div class=\"hero-body\">\n        <p class=\"title\">\n          My Stories\n        </p>\n        <div class=\"columns\">\n          <div class=\"column is-half\">\n            <input class=\"input\" type=\"text\" v-model=\"search\" placeholder=\"Search blog(s)\">\n          </div>\n          <div class=\"column is-half\">\n            <button @click=\"getBlogs\" class=\"button\">Search</button>\n          </div>\n        </div>\n      </div>\n    </section>\n    <section class=\"section\" id=\"app\">\n      <div class=\"content\">\n        <div class=\"columns is-multiline\">\n          <div class=\"column is-3\" v-for=\"blog in blogs\" :key=\"blog.id\">\n            <div class=\"card\">\n              <div class=\"card-image pt-5\">\n                <figure class=\"image\">\n                  <img style=\"height: 120px\" :src=\"imagePath(blog.file_path)\" alt=\"Placeholder image\" />\n                </figure>\n              </div>\n              <div class=\"card-content\">\n                <div class=\"title\">{{ blog.title }}</div>\n                <div class=\"content\" style=\"height: 200px;\">{{ shortContent(blog.content) }}</div>\n              </div>\n              <footer class=\"card-footer\">\n                <router-link class=\"card-footer-item\" :to=\"`/blogs/detail/${blog.id}`\">Read more...</router-link>\n                <a class=\"card-footer-item\" @click=\"addLike(blog.id)\">\n                  <span class=\"icon-text\">\n                    <span class=\"icon\">\n                      <i class=\"far fa-heart\"></i>\n                    </span>\n                    <span>Like ({{blog.like}})</span>\n                  </span>\n                </a>\n              </footer>\n            </div>\n          </div>\n        </div>\n      </div>\n    </section>\n  </div>\n</template>\n\n<script>\nimport axios from \"axios\";\n// @ is an alias to /src\nexport default {\n  name: \"Home\",\n  data() {\n    return {\n      search: '',\n      blogs: [],\n    };\n  },\n  mounted () {\n    this.getBlogs()\n  },\n  methods: {\n    getBlogs() {\n      axios\n        .get(\"http://localhost:3000\", {\n          params: {\n            search: this.search\n          }\n        })\n        .then((response) => {\n          this.blogs = response.data;\n        })\n        .catch((err) => {\n          console.log(err);\n        });\n    },\n    imagePath(file_path) {\n      if (file_path){\n        return 'http://localhost:3000/' + file_path \n      } \n      else {\n        return 'https://bulma.io/images/placeholders/640x360.png'\n      }\n    },\n    shortContent(content) {\n      if (content.length > 200) {\n        return content.substring(0, 197) + '...'\n      }\n      return content\n    },\n    addLike(blogId) {\n      axios\n        .put(`http://localhost:3000/blogs/addlike/${blogId}`)\n        .then((response) => {\n          let selectedBlog = this.blogs.filter(e => e.id === blogId)[0]\n          selectedBlog.like = response.data.like;\n        })\n        .catch((err) => {\n          console.log(err);\n        });\n    }\n  },\n\n};\n</script>\n"],"sourceRoot":"src/views"}]}