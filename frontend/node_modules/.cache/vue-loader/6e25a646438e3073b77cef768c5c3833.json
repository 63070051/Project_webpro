{"remainingRequest":"/Users/tathus/Documents/web pro/WEEK11-2-EXERCISE/frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/tathus/Documents/web pro/WEEK11-2-EXERCISE/frontend/src/views/Home.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/tathus/Documents/web pro/WEEK11-2-EXERCISE/frontend/src/views/Home.vue","mtime":1649423578921},{"path":"/Users/tathus/Documents/web pro/WEEK11-2-EXERCISE/frontend/node_modules/cache-loader/dist/cjs.js","mtime":1649416185770},{"path":"/Users/tathus/Documents/web pro/WEEK11-2-EXERCISE/frontend/node_modules/babel-loader/lib/index.js","mtime":1649416188319},{"path":"/Users/tathus/Documents/web pro/WEEK11-2-EXERCISE/frontend/node_modules/cache-loader/dist/cjs.js","mtime":1649416185770},{"path":"/Users/tathus/Documents/web pro/WEEK11-2-EXERCISE/frontend/node_modules/vue-loader/lib/index.js","mtime":1649416188001}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBheGlvcyBmcm9tICJheGlvcyI7Ci8vIEAgaXMgYW4gYWxpYXMgdG8gL3NyYwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIkhvbWUiLAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBzZWFyY2g6ICcnLAogICAgICBibG9nczogW10sCiAgICB9OwogIH0sCiAgbW91bnRlZCAoKSB7CiAgICB0aGlzLmdldEJsb2dzKCkKICB9LAogIG1ldGhvZHM6IHsKICAgIGdldEJsb2dzKCkgewogICAgICBheGlvcwogICAgICAgIC5nZXQoImh0dHA6Ly9sb2NhbGhvc3Q6MzAwMCIsIHsKICAgICAgICAgIHBhcmFtczogewogICAgICAgICAgICBzZWFyY2g6IHRoaXMuc2VhcmNoCiAgICAgICAgICB9CiAgICAgICAgfSkKICAgICAgICAudGhlbigocmVzcG9uc2UpID0+IHsKICAgICAgICAgIHRoaXMuYmxvZ3MgPSByZXNwb25zZS5kYXRhOwogICAgICAgIH0pCiAgICAgICAgLmNhdGNoKChlcnIpID0+IHsKICAgICAgICAgIGNvbnNvbGUubG9nKGVycik7CiAgICAgICAgfSk7CiAgICB9LAogICAgaW1hZ2VQYXRoKGZpbGVfcGF0aCkgewogICAgICBpZiAoZmlsZV9wYXRoKXsKICAgICAgICByZXR1cm4gJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMC8nICsgZmlsZV9wYXRoIAogICAgICB9IAogICAgICBlbHNlIHsKICAgICAgICByZXR1cm4gJ2h0dHBzOi8vYnVsbWEuaW8vaW1hZ2VzL3BsYWNlaG9sZGVycy82NDB4MzYwLnBuZycKICAgICAgfQogICAgfSwKICAgIHNob3J0Q29udGVudChjb250ZW50KSB7CiAgICAgIGlmIChjb250ZW50Lmxlbmd0aCA+IDIwMCkgewogICAgICAgIHJldHVybiBjb250ZW50LnN1YnN0cmluZygwLCAxOTcpICsgJy4uLicKICAgICAgfQogICAgICByZXR1cm4gY29udGVudAogICAgfSwKICAgIGFkZExpa2UoYmxvZ0lkKSB7CiAgICAgIGF4aW9zCiAgICAgICAgLnB1dChgaHR0cDovL2xvY2FsaG9zdDozMDAwL2Jsb2dzL2FkZGxpa2UvJHtibG9nSWR9YCkKICAgICAgICAudGhlbigocmVzcG9uc2UpID0+IHsKICAgICAgICAgIGxldCBzZWxlY3RlZEJsb2cgPSB0aGlzLmJsb2dzLmZpbHRlcihlID0+IGUuaWQgPT09IGJsb2dJZClbMF0KICAgICAgICAgIHNlbGVjdGVkQmxvZy5saWtlID0gcmVzcG9uc2UuZGF0YS5saWtlOwogICAgICAgIH0pCiAgICAgICAgLmNhdGNoKChlcnIpID0+IHsKICAgICAgICAgIGNvbnNvbGUubG9nKGVycik7CiAgICAgICAgfSk7CiAgICB9CiAgfSwKCn07Cg=="},{"version":3,"sources":["Home.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA","file":"Home.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div class=\"container is-widescreen\">\n    <section class=\"hero\">\n      <div class=\"hero-body\">\n        <p class=\"title\">\n          My Stories\n        </p>\n        <div class=\"columns\">\n          <div class=\"column is-half\">\n            <input class=\"input\" type=\"text\" v-model=\"search\" placeholder=\"Search blog(s)\">\n          </div>\n          <div class=\"column is-half\">\n            <button @click=\"getBlogs\" class=\"button\">Search</button>\n          </div>\n        </div>\n      </div>\n    </section>\n    <section class=\"section\" id=\"app\">\n      <div class=\"content\">\n        <div class=\"columns is-multiline\">\n          <div class=\"column is-3\" v-for=\"blog in blogs\" :key=\"blog.id\">\n            <div class=\"card\">\n              <div class=\"card-image pt-5\">\n                <figure class=\"image\">\n                  <img style=\"height: 120px\" :src=\"imagePath(blog.file_path)\" alt=\"Placeholder image\" />\n                </figure>\n              </div>\n              <div class=\"card-content\">\n                <div class=\"title\">{{ blog.title }}</div>\n                <div class=\"content\" style=\"height: 200px;\">{{ shortContent(blog.content) }}</div>\n              </div>\n              <footer class=\"card-footer\">\n                <router-link class=\"card-footer-item\" :to=\"`/blogs/detail/${blog.id}`\">Read more...</router-link>\n                <a class=\"card-footer-item\" @click=\"addLike(blog.id)\">\n                  <span class=\"icon-text\">\n                    <span class=\"icon\">\n                      <i class=\"far fa-heart\"></i>\n                    </span>\n                    <span>Like ({{blog.like}})</span>\n                  </span>\n                </a>\n              </footer>\n            </div>\n          </div>\n        </div>\n      </div>\n    </section>\n  </div>\n</template>\n\n<script>\nimport axios from \"axios\";\n// @ is an alias to /src\nexport default {\n  name: \"Home\",\n  data() {\n    return {\n      search: '',\n      blogs: [],\n    };\n  },\n  mounted () {\n    this.getBlogs()\n  },\n  methods: {\n    getBlogs() {\n      axios\n        .get(\"http://localhost:3000\", {\n          params: {\n            search: this.search\n          }\n        })\n        .then((response) => {\n          this.blogs = response.data;\n        })\n        .catch((err) => {\n          console.log(err);\n        });\n    },\n    imagePath(file_path) {\n      if (file_path){\n        return 'http://localhost:3000/' + file_path \n      } \n      else {\n        return 'https://bulma.io/images/placeholders/640x360.png'\n      }\n    },\n    shortContent(content) {\n      if (content.length > 200) {\n        return content.substring(0, 197) + '...'\n      }\n      return content\n    },\n    addLike(blogId) {\n      axios\n        .put(`http://localhost:3000/blogs/addlike/${blogId}`)\n        .then((response) => {\n          let selectedBlog = this.blogs.filter(e => e.id === blogId)[0]\n          selectedBlog.like = response.data.like;\n        })\n        .catch((err) => {\n          console.log(err);\n        });\n    }\n  },\n\n};\n</script>\n"]}]}